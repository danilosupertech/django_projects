{% extends "galeria/base.html" %}
{% load static %}
{% block content %}
<div class="pagina-inicial">
  <header class="cabecalho d-flex align-items-center justify-content-between p-3 border-bottom">
    <img width="170" height="40"
      src="{% static  '/assets/logo/Logo(2).png' %}"
      alt="Logo da Alura Space"
    />
    {% include "galeria/partials/buscar.html" %}
  </header>

  <main class="principal d-flex">
    {% include "galeria/partials/menu_esquerdo.html" %}

    <section class="conteudo flex-grow-1 p-4">
      <div class="cards bg-light rounded shadow-sm p-4">
        <h1 class="cards__titulo mb-4">Atualizar Fotografia</h1>

        <form method="POST" enctype="multipart/form-data" class="formulario-foto">
          {% csrf_token %}

          <div class="mb-3">
            <label for="nome" class="form-label">Nome</label>
            <input
              type="text"
              id="nome"
              name="nome"
              class="form-control"
              value="{{ fotografia.nome }}"
              required
            />
          </div>

          <div class="mb-3">
            <label for="legenda" class="form-label">Legenda</label>
            <input
              type="text"
              id="legenda"
              name="legenda"
              class="form-control"
              value="{{ fotografia.legenda }}"
              required
            />
          </div>

          <div class="mb-3">
            <label for="descricao" class="form-label">Descrição</label>
            <textarea
              id="descricao"
              name="descricao"
              rows="4"
              class="form-control"
            >{{ fotografia.descricao }}</textarea>
          </div>

          <div class="mb-3">
            <label for="imagem" class="form-label">Imagem atual:</label>
            {% if fotografia.imagem %}
              <img
                src="{{ fotografia.imagem.url }}"
                alt="Imagem atual"
                class="img-fluid rounded mb-3"
                style="max-height: 300px;"
              />
            {% else %}
              <p>Sem imagem disponível</p>
            {% endif %}
            <input type="file" id="imagem" name="imagem" class="form-control" />
          </div>

          <button type="submit" class="btn btn-primary">Salvar Atualizações</button>
        </form>
      </div>
    </section>
  </main>
</div>
{% endblock %}
