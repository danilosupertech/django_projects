{#
  PT: Página inicial da galeria com busca e listagem de cards.
  EN: Gallery home page with search and card listing.
#}
{% extends "galeria/base.html" %} {% load static %} {% block content %}
<div class="pagina-inicial">
  <header class="cabecalho">
    <img
      width="170"
      height="40"
      src="{% static 'assets/logo/Logo(2).png' %}"
      alt="Logo Space"
    />
  {% include "galeria/partials/_buscar.html" %}
  </header>

  <main class="principal">
    {% include "galeria/partials/menu_esquerdo.html" %}

    <section class="conteudo">
      <section class="banner">
        <img
          class="banner__imagem"
          src="{% static 'assets/imagens/Banner(2).png' %}"
          alt="banner Alura Space"
        />
        <h1 class="banner__titulo">
          A galeria mais completa de fotos do espaço!
        </h1>
      </section>

      <section class="tags">
        <p class="tags__titulo">Busque por tags:</p>
        <ul class="tags__lista">
          <li class="tags__tag">Nebulosa</li>
          <li class="tags__tag">Estrela</li>
          <li class="tags__tag">Galáxia</li>
          <li class="tags__tag">Planeta</li>
        </ul>
      </section>

      <section class="galeria"> {# Lista todas as fotos publicadas #}
        <div class="cards">
          <h2 class="cards__titulo">Navegue pela galeria</h2>
          <ul class="cards__lista">
            {% if cards %} {% for fotografia in cards %}
            <li class="card">
              {% if not fotografia.imagem %}
              <img
                width="300"
                height="200"
                class="card__imagem"
                src="{% static 'assets/imagens/galeria/sem-foto.png' %}"
                alt="foto"
              />
              {% else %}
              <a href="{% url 'imagem' fotografia.id %}"> {# Link para página de detalhes #}
                <img
                  width="300"
                  height="200"
                  class="card__imagem"
                  src="{{ fotografia.imagem.url }}"
                  alt="foto"
                />
              </a>
              {% endif %}
              <span class="card__tag text-dark">{{ fotografia.nome}}</span>
              <div class="card__info">
                <p class="card__titulo text-dark">{{fotografia.legenda}}</p>
                <div class="card__texto">
                  <p class="card__descricao text-dark">{{fotografia.descricao}}</p>
                  <span>
                    <img
                      src="{% static 'assets/ícones/1x/favorite_outline.png' %}"
                      alt="ícone de coração"
                    />
                  </span>
                </div>

                            
            <a
              href="{% url 'atualizar_foto' fotografia.id %}"
              class="btn btn-primary"
            >
              ✏️ Editar
            </a>
              </div>
            </li>
            {% endfor %} {% else %} {% endif %}
          </ul>
        </div>
      </section>
    </section>
  </main>
</div>

{% endblock %}
